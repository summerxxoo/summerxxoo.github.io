<!DOCTYPE html>
<html>
<head>
    <title>Image to Text Converter</title>
    <style>
        textarea {
            width: 100%;
            height: 200px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>Convert Image to Base64 Text</h1>
    <button onclick="loadImageAsText()">Load Image</button>
    <textarea id="output" placeholder="Base64 text will appear here..."></textarea>
    <script>
        async function loadImageAsText() {
            const imageUrl = "https://local_img/test.png"; // 替换为你的图片路径
            const output = document.getElementById("output");
            
            try {
                // 1. 用fetch获取图片Blob
                const response = await fetch(imageUrl);
                const blob = await response.blob();
                
                // 2. 用FileReader转Base64
                const reader = new FileReader();
                reader.onload = () => {
                    output.value = reader.result; // 输出Base64字符串
                };
                reader.readAsDataURL(blob);
            } catch (e) {
                output.value = `Error: ${e.message}`;
            }
        }
    </script>
</body>
</html>
